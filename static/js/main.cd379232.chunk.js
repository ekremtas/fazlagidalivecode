(this.webpackJsonpfazlagidalivecode=this.webpackJsonpfazlagidalivecode||[]).push([[0],{116:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(50),o=a.n(c),l=a(19),i=(a(94),a(95),a(117)),s=Object(l.b)((function(t){var e=t.chartsReducer;return{loading:e.loading,tracks:e.tracks,title:e.title}}),null)((function(t){return r.a.createElement(r.a.Fragment,null,t.loading.ArtistsPage?r.a.createElement(i.a,{animation:"border",role:"status"}):0!==t.tracks.length?r.a.createElement(h,{data:{data:t.tracks,chart:"column",title:t.title.track,name:"Tracks",xAxisType:"category",yAxisTitle:"Total percent market share"}}):r.a.createElement("h1",null,t.title.track))})),u=Object(l.b)((function(t){var e=t.chartsReducer;return{loading:e.loading,artists:e.artists,title:e.title}}),null)((function(t){return r.a.createElement(r.a.Fragment,null,t.loading.ArtistsPage?r.a.createElement(i.a,{animation:"border",role:"status"}):0!==t.artists.length?r.a.createElement(h,{data:{data:t.artists,chart:"column",title:t.title.artist,name:"Artist",xAxisType:"category",yAxisTitle:"Total percent market share"}}):r.a.createElement("h1",null,t.title.artist))})),m=a(66),d=a.n(m),p=a(80),b=a.n(p),h=function(t){var e=t.data,a={chart:{type:e.chart},title:{text:e.title},xAxis:{type:e.xAxisType},yAxis:{title:{text:e.yAxisTitle}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'},series:[{name:e.name,colorByPoint:!0,data:e.data}]};return r.a.createElement("div",null,r.a.createElement(b.a,{highcharts:d.a,options:a}))},g=a(59),f=a(118),y=a(119),T=a(120),E=a(121),O=a(48),j=a(64),A=a(97),v="https://ws.audioscrobbler.com/2.0/",k="97cee60fe2193b383cd8377301901a80",S=j.b().shape({country:j.c().required("Country is a required field").min(2),topnumber:j.a().positive().integer().required("Topnumber is a required field")}),R={setArtTraForm:function(t){return function(e){e({type:"SET_ART_TRA_FORM",payload:t})}}},x=Object(l.b)(null,R)((function(t){return r.a.createElement(O.b,{initialValues:{country:"TURKEY",topnumber:"10"},validationSchema:S,onSubmit:function(e,a){(0,a.setSubmitting)(!0),t.setArtTraForm(e)}},(function(t){t.values,t.errors,t.touched;var e=t.isSubmitting,a=t.handleChange,n=(t.setFieldValue,t.resetForm,t.setSubmitting);return r.a.createElement(O.a,{className:"m-5"},r.a.createElement("h1",{className:"mb-4 display-2"},"Highchart Challenge"),r.a.createElement(y.a,null,r.a.createElement(T.a,{md:"6"},r.a.createElement(w,{name:"country",type:"text",label:"Country Name :",placeholder:"Enter Country Name",onChange:function(t){a(t),n(!1)}})),r.a.createElement(T.a,{md:"6"},r.a.createElement(w,{name:"topnumber",type:"text",label:"Top Number :",placeholder:"Enter Top Number",onChange:function(t){a(t),n(!1)}}))),r.a.createElement(E.a,{color:"success",disabled:e,type:"submit"},"Submit"))}))})),_=a(85),N=a(122),C=a(123),G=a(124),I=a(125),w=function(t){var e=t.label,a=t.example,n=Object(_.a)(t,["label","example"]),c=Object(O.c)(n),o=Object(g.a)(c,2),l=o[0],i=o[1];return r.a.createElement(N.a,null,r.a.createElement(C.a,null,e),r.a.createElement(f.a,Object.assign({},l,n,{invalid:i.error,valid:!i.error&&l.value})),r.a.createElement(G.a,{invalid:i.error,valid:!i.error&&l.value},i.error),a?r.a.createElement(I.a,null,a):null)},F=a(126),P={getTracks:function(t,e){return function(a){a({type:"TRACKS_LOADING"}),A.get("".concat(v,"?method=geo.gettoptracks&country=").concat(t,"&api_key=").concat(k,"&format=json&limit=").concat(e)).then((function(n){void 0!==n.data.tracks?a({type:"GET_TRACKS",payload:{data:n.data.tracks.track,title:"Top ".concat(e," Tracks in ").concat(t.toUpperCase())}}):a({type:"GET_TRACKS",payload:{data:[],title:'No track for country of "'.concat(t.toUpperCase(),'"')}})})).catch((function(t){console.log(t)}))}},getArtists:function(t,e){return function(a){a({type:"ARTISTS_LOADING"}),A.get("".concat(v,"?method=geo.gettopartists&country=").concat(t,"&api_key=").concat(k,"&format=json&limit=").concat(e)).then((function(n){void 0!==n.data.topartists?a({type:"GET_ARTISTS",payload:{data:n.data.topartists.artist,title:"Top ".concat(e," Artist in ").concat(t.toUpperCase())}}):a({type:"GET_ARTISTS",payload:{data:[],title:'No artist for country of "'.concat(t.toUpperCase(),'"')}})})).catch((function(t){console.log(t)}))}}},L=Object(l.b)((function(t){return{highchartform:t.chartsReducer.highchartform}}),P)((function(t){return Object(n.useEffect)((function(){t.getTracks(t.highchartform.country,t.highchartform.topnumber),t.getArtists(t.highchartform.country,t.highchartform.topnumber)}),[t]),r.a.createElement(F.a,null,r.a.createElement(x,null),r.a.createElement("hr",null),r.a.createElement(s,null),r.a.createElement("hr",null),r.a.createElement(u,null))}));var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(43),U=a(84),q=a(5),z={loading:{},tracks:[],title:{},artists:[],highchartform:{country:"turkey",topnumber:10}},B=Object(D.c)({chartsReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PAGE_LOADING":return Object(q.a)(Object(q.a)({},t),{},{loading:Object(q.a)(Object(q.a)({},t.loading),{},{LastfmPage:!0})});case"ARTISTS_LOADING":return Object(q.a)(Object(q.a)({},t),{},{loading:Object(q.a)(Object(q.a)({},t.loading),{},{ArtistsPage:!0})});case"TRACKS_LOADING":return Object(q.a)(Object(q.a)({},t),{},{loading:Object(q.a)(Object(q.a)({},t.loading),{},{TracksPage:!0})});case"GET_TRACKS":return Object(q.a)(Object(q.a)({},t),{},{tracks:e.payload.data.map((function(t){return{name:t.name,y:Number(t.listeners)}})),title:Object(q.a)(Object(q.a)({},t.title),{},{track:e.payload.title}),loading:Object(q.a)(Object(q.a)({},t.loading),{},{TracksPage:!1})});case"GET_ARTISTS":return Object(q.a)(Object(q.a)({},t),{},{artists:e.payload.data.map((function(t){return{name:t.name,y:Number(t.listeners)}})),title:Object(q.a)(Object(q.a)({},t.title),{},{artist:e.payload.title}),loading:Object(q.a)(Object(q.a)({},t.loading),{},{ArtistsPage:!1})});case"SET_ART_TRA_FORM":return Object(q.a)(Object(q.a)({},t),{},{highchartform:Object(q.a)(Object(q.a)({},t.highchartform),{},{country:e.payload.country,topnumber:Number(e.payload.topnumber)})});default:return t}}}),W=Object(D.d)(B,Object(D.a)(U.a));a(115);o.a.render(r.a.createElement(l.a,{store:W},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},86:function(t,e,a){t.exports=a(116)},94:function(t,e,a){},95:function(t,e,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.cd379232.chunk.js.map